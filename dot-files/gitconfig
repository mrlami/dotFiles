[user]
	name = mrlami
	email = lami@inbox.com
[core]
	# Use custom `.gitignore`
	excludesfile = /Users/mrlami/.gitignore
	# Treat spaces before tabs, lines that are indented with 8 or more spaces, and all kinds of trailing whitespace as an error
	whitespace = space-before-tab,indent-with-non-tab,trailing-space
	# Use Sublime Text as default editor
	editor = subl -n -w
[color]
	ui = auto
[color "branch"]
	current = yellow reverse
	local = yellow
	remote = green
[color "diff"]
	meta = yellow bold
	frag = magenta bold
	old = red bold
	new = green bold
[color "status"]
	added = yellow
	changed = green
	untracked = cyan
[push]
	default = simple

#remove below if Kaleidoscope is not installed
[mergetool "Kaleidoscope"]
	cmd = ksdiff --merge --output \"$MERGED\" --base \"$BASE\" -- \"$LOCAL\" --snapshot \"$REMOTE\" --snapshot
[merge]
	tool = Kaleidoscope
[difftool "Kaleidoscope"]
	cmd = ksdiff --partial-changeset --relative-path \"$MERGED\" -- \"$LOCAL\" \"$REMOTE\"
[diff]
	tool = Kaleidoscope
[mergetool]
	prompt = true
	keepBackup = true
[difftool]
	prompt = true
[init]
	templatedir = ~/.git_template
[filter "lfs"]
	clean = git lfs clean %f
	smudge = git lfs smudge %f
	required = true

[alias]
	# List contributors with number of commits
	contributors = shortlog --summary --numbered

    # Generate info for CM (currently updates only and SCBZ only)
    cmi = "!f() { \
        REPO=$(git remote show -n origin | grep Push | cut -d : -f 2- | cut -d \"/\" -f 4 -f 5); \
		LASTCOMMIT=$(git log --pretty=format:'%H' -n 1); \
		REPOPATH=$(echo $REPO | cut -d \".\" -f 1 | awk '{print tolower($0)}'); \
		SRVPATH='/var/websites/'$REPOPATH'/'; \
        git diff --name-only $1 $2 | xargs -IREPLACE echo $'Update '$SRVPATH'REPLACE\nWith ['$REPO'] REPLACE\n'; \
		echo 'commit '$LASTCOMMIT; \
		echo '\n\nIn source control ['$REPO'] master branch\ncommit ' $LASTCOMMIT; \
        }; f"
